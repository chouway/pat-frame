https://github.com/chinese-poetry/chinese-poetry

About
The most comprehensive database of Chinese poetry ğŸ§¶æœ€å…¨ä¸­åå¤è¯—è¯æ•°æ®åº“, å”å®‹ä¸¤æœè¿‘ä¸€ä¸‡å››åƒå¤è¯—äºº, æ¥è¿‘5.5ä¸‡é¦–å”è¯—åŠ 26ä¸‡å®‹è¯—. ä¸¤å®‹æ—¶æœŸ1564ä½è¯äººï¼Œ21050é¦–è¯ã€‚

æœ€å…¨çš„ä¸­åå¤å…¸æ–‡é›†æ•°æ®åº“ï¼ŒåŒ…å« 5.5 ä¸‡é¦–å”è¯—ã€26 ä¸‡é¦–å®‹è¯—ã€2.1 ä¸‡é¦–å®‹è¯å’Œå…¶ä»–å¤å…¸æ–‡é›†ã€‚è¯—äººåŒ…æ‹¬å”å®‹ä¸¤æœè¿‘ 1.4 ä¸‡å¤è¯—äººï¼Œå’Œä¸¤å®‹æ—¶æœŸ 1.5 åƒå¤è¯äººã€‚æ•°æ®æ¥æºäºäº’è”ç½‘ã€‚
ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªä»“åº“? å¤è¯—æ˜¯ä¸­åæ°‘æ—ä¹ƒè‡³å…¨ä¸–ç•Œçš„ç‘°å®ï¼Œæˆ‘ä»¬åº”è¯¥ä¼ æ‰¿ä¸‹å»ï¼Œè™½ç„¶æœ‰å¤å…¸æ–‡é›†ï¼Œä½†å¤§å¤šæ•°äººå¹¶æ²¡æœ‰æ‹¥æœ‰è¿™äº›ä¹¦ç±ã€‚ä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´ï¼Œè¿™äº›åºå¤§çš„æ–‡é›†ç¦»æˆ‘ä»¬æ˜¯æœ‰ä¸€å®šè·ç¦»çš„ã€‚è€Œç”µå­ç‰ˆæ–¹ä¾¿æ‹·è´ï¼Œæ‰€ä»¥æ­¤å¼€æºæ•°æ®åº“è¯ç”Ÿäº†ã€‚æ­¤æ•°æ®åº“é€šè¿‡ JSON æ ¼å¼åˆ†å‘ï¼Œå¯ä»¥è®©ä½ å¾ˆæ–¹ä¾¿çš„å¼€å§‹ä½ çš„é¡¹ç›®ã€‚
å¤è¯—é‡‡é›†æ²¡æœ‰è®°å½•è¿‡ç¨‹ï¼Œå› ä¸ºå¤è¯—æ•°æ®åºå¤§ï¼Œç›®æ ‡ç½‘ç«™æœ‰é™åˆ¶ï¼Œé‡‡é›†è¿‡ç¨‹ç»å¸¸ä¸­æ–­è¶…è¿‡äº†ä¸€ä¸ªæ˜ŸæœŸã€‚2017 å¹´æ–°åŠ å…¥å…¨å®‹è¯ï¼Œå…¨å®‹è¯çˆ¬å–è¿‡ç¨‹åŠæ•°æ®åˆ†æã€‚

å¼€æºæ•°æ®åŒæ­¥åˆ°æ•°æ®åº“åŠæœç´¢å¼•æ“ä¸Š

==
ä¿®æ”¹EOçš„ç‰ˆæœ¬å· å¹¶ä¸”è°ƒæ•´ setting    å½“å®Œæ•´indexå åˆ‡æ¢
é€šè¿‡åˆ«åæ“ä½œ å¯ä»¥æ— ç¼åˆ‡æ¢
POST /_aliases
{
    "actions": [
        { "remove": {
            "alias": "poet-info",
            "index": "poet-info_v0"
        }},
        { "add": {
            "alias": "poet-info",
            "index": "poet-info_v1"
        }}
    ]
}
==

==
æŸ¥çœ‹æ–‡æ¡£å…ƒå‹
GET poet-info
==

==
æŸ¥çœ‹æŸæ–‡æ¡£
GET poet-info/_doc/1
==


==
æµ‹è¯•åˆ†è¯æ•ˆæœ   ## "analyzer": standard ik_max_word  ik_smart pinyin_analyzer
GET _analyze
{
  "analyzer":"ik_max_word",
  "text": "ä¸­åäººæ°‘å…±å’Œå›½"
}
==

==
æŸ¥çœ‹é›†ç¾¤çš„èŠ‚ç‚¹
GET _cat
==


==
åˆ†é¡µæŸ¥è¯¢  from ä½ç½®   size æ•°é‡  sort æ’åº
GET poet-info/_search
{
   "from":0,
   "size":2,
   "sort":
      {
        "id":{
            "order":"desc"
        }
    }
}
==

==
æ²¡æœ‰filedsæ—¶å…¨å­—æ®µæ¨¡ç³ŠåŒ¹é…ï¼Œ æœ‰filedså°†é™å®š å¹¶ä¸”å¯ä»¥é€šè¿‡^æ¥åŠ æƒé‡
GET poet-info/_search
{
   "from":0,
   "size":32,
   "query": {
     "query_string": {
       "fields" : ["title^5", "author^10", "properties^3","content"],
       "query": "å…³å±±"
     }
   },
   "sort":{
     "_score":{
            "order":"desc"
      }
   }
}

==


==
èšåˆç»Ÿè®¡
GET poet-info/_search
{
  "size":0,
  "aggs":{
    "count_per_propKeys":{
      "terms": {
        "field": "propKeys",
        "size": 10
      }
    }
  }
}

GET poet-info/_search
{
  "size":0,
  "aggs":{
    "count_per_0":{
      "terms": {
        "field": "properties.ä½œå“ä½“è£.keyword", "size": 10
      }
    },
    "count_per_1":{
      "terms": {
        "field": "properties.ä½œå“å‡ºå¤„.keyword",
        "size": 10
      }
    }
  }
}
==

======
æ·»åŠ æŸ¥è¯¢æ¨¡ç‰ˆ
POST _scripts/test_template
{
  "script": {
    "lang": "mustache",
    "source": {
      "query": {
        "match": {
        "title": "{{title}}"
        }
      }
    }
  }
}

è·å–æŸ¥è¯¢æ¨¡ç‰ˆ
GET _scripts/test_template

åˆ é™¤æŸ¥è¯¢æ¨¡ç‰ˆ
DELETE _scripts/order_id_template

åº”ç”¨æŸ¥è¯¢æ¨¡ç‰ˆ
GET poet-info/_search/template
{
  "id": "test_template",
  "params": {
   "title": "åº¦å…³å±±"
  }
}

#è·å–å·²ä¿å­˜çš„è„šæœ¬
GET _cluster/state/metadata?pretty&filter_path=metadata.stored_scripts
======
